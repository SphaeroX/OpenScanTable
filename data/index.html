<!doctype html>
<html>
  <head>
    <title>ESP32 Web Server</title>
  </head>
  <body>
    <h1>Hello from ESP32 AP!</h1>
    <p>This is a web page hosted on an ESP32.</p>
    <div class="div">
      <form id="revoscanForm" action="/startRevoscan" method="post">
        <label for="scanAngleZ">Rotation Angle Z (degrees):</label>
        <input type="number" id="scanAngleZ" name="scanAngleZ" min="0" max="360" step="1" value="20" required /><br />
        <label for="scanAngleY">Rotation Angle Y (degrees):</label>
        <input type="number" id="scanAngleY" name="scanAngleY" min="0" max="360" step="1" value="18" required /><br />
        <label for="scanStepsZ">Steps Z:</label>
        <input type="number" id="scanStepsZ" name="scanStepsZ" min="1" value="25" required /><br />
        <label for="scanStepsY">Steps Y:</label>
        <input type="number" id="scanStepsY" name="scanStepsY" value="3" required /><br />
        <label for="scanShotPause">Pause between Shots (ms):</label>
        <input type="number" id="scanShotPause" name="scanShotPause" min="1" value="1000" required /><br />
        <input type="button" value="Start Revoscan" onclick="submitRevoscan()" />
      </form>
    </div>

    <div class="div">
      <form id="testForm" action="/test" method="post">
        <input type="button" value="Test Axis" onclick="submitTest()" />
      </form>
    </div>

    <script>
      function submitRevoscan() {
        var form = document.getElementById("revoscanForm");
        var formData = new FormData(form);

        var xhr = new XMLHttpRequest();
        xhr.open("POST", form.action, true);
        xhr.onload = function () {
          // Handle the response if needed
          console.log(xhr.responseText);
        };
        xhr.send(formData);
      }

      function submitTest() {
        var form = document.getElementById("testForm");
        var formData = new FormData(form);

        var xhr = new XMLHttpRequest();
        xhr.open("POST", form.action, true);
        xhr.onload = function () {
          // Handle the response if needed
          console.log(xhr.responseText);
        };
        xhr.send(formData);
      }
    </script>
  </body>
</html>
